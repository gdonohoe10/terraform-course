#script to retrive the IP's from the resource you create and save it to a fill called "private_ips.txt"

greg@greg-linux:~/terraform/terraform-course/demo-3$ ls
demo3-apply  instance.tf  private_ips.txt  provider.tf  terraform.tfstate  terraform.tfstate.backup  terraform.tfvars  vars.tf  versions.tf


greg@greg-linux:~/terraform/terraform-course/demo-3$ cat instance.tf 
resource "aws_instance" "example" {
  ami           = var.AMIS[var.AWS_REGION]
  instance_type = "t2.micro"
  provisioner "local-exec" {
    command = "echo ${aws_instance.example.private_ip} >> private_ips.txt"
  }
}

output "ip" {
  value = "${aws_instance.example.public_ip}"
  
  --------------------------------------------
  Outputs:

ip = 34.245.34.250
greg@greg-linux:~/terraform/terraform-course/demo-3$ 
greg@greg-linux:~/terraform/terraform-course/demo-3$ cat private_ips.txt 
aws_instance.example.private_ip
172.31.41.71


